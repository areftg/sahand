import React, { useState } from "react";
import style from "./NotificationPanel.module.css";
import CloseIcon from "../../assets/icons/closee.svg";
import morkhasi from "../../assets/icons/Morkhasi.svg";
import documentIcon from "../../assets/icons/documentwhite.svg";
import clock from "../../assets/icons/notifClockWhite.svg";
import updateIcon from "../../assets/icons/updateicon.svg"


export default function NotificationPanel({ onClose }) {
  const [filterType, setFilterType] = useState("all");

  const notifications = [
    { name: "مرخصی برای عارف طالبی", reason: "بیماری", type: "Morkhasi", history: "1404/05/02" },
    { name: "مرخصی برای عارف طالبی", reason: "سفر کاری", type: "Remember", history: "1404/06/10" },
    { name: "مرخصی برای عارف طالبی", reason: "مدرک تحصیلی ارسال شد", type: "bakhshname", history: "1404/06/15" },
    { name: "مرخصی برای عارف طالبی", reason: "آپدیت 1.5", type: "update", history: "1404/06/15" },
    { name: "مرخصی برای عارف طالبی", reason: "آپدیت 1.5", type: "Morkhasi", history: "1404/06/15" },
  ];

  const filteredNotifications = filterType === "all"
    ? notifications
    : notifications.filter(notif => notif.type.toLowerCase() === filterType.toLowerCase());

  // انتخاب آیکون بر اساس نوع نوتیفیکیشن
  const getIcon = (type) => {
    switch(type) {
      case "Morkhasi": return morkhasi;
      case "Remember": return clock;
      case "bakhshname": return documentIcon;
      case "update": return updateIcon;
    }
  };

  return (
    <div className={style.backdrop}>
      <div className={style.container}>
        <div className={style.header}>
          <div className={style.HeaderRight}>
            <img src={CloseIcon} alt="" onClick={onClose} />
            <h2>اعلان های اخیر</h2>
          </div>
          <div className={style.HeaderLeft}>
            <p>مجموع اعلان ها: {filteredNotifications.length}</p>
          </div>
        </div>

        <div className={style.menu}>
            <div
    className={`${style.item} ${filterType === "all" ? style.active : ""}`}
    onClick={() => setFilterType("all")}
  >
            <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M18.0501 5.6521V10.6539C19.4312 10.6539 20.551 9.53412 20.551 8.153C20.551 6.77188 19.4312 5.6521 18.0501 5.6521Z" fill="black"/>
            <path d="M9.04385 13.785H4.92049C4.86359 13.785 4.8092 13.7781 4.75293 13.7763L7.04625 19.4164C7.35637 20.1867 8.10101 20.6562 8.88567 20.6562C9.13076 20.6562 9.37959 20.6106 9.62093 20.5137C10.6294 20.1061 11.1215 18.9519 10.717 17.9415L9.04385 13.785Z" fill="black"/>
            <path d="M16.4403 0.71469C16.2202 0.612779 15.9607 0.645915 15.7751 0.800346C15.7388 0.830357 12.1575 3.78204 9.29772 3.78204H4.92052C2.50778 3.78142 0.543945 5.74463 0.543945 8.158C0.543945 10.5714 2.50778 12.5346 4.92052 12.5346C4.92052 12.5346 6.43732 12.5346 9.2971 12.5346C12.1569 12.5346 15.7388 15.4863 15.7744 15.5163C15.8888 15.6113 16.0308 15.6607 16.1746 15.6607C16.2652 15.6607 16.3553 15.6413 16.4403 15.6013C16.6598 15.4981 16.7998 15.2774 16.7998 15.0355V1.28052C16.7998 1.03793 16.6591 0.817852 16.4403 0.71469Z" fill="black"/>
            </svg>
            <p>همه اعلان ها</p>
          </div>
             <div
    className={`${style.item} ${filterType === "bakhshname" ? style.active : ""}`}
    onClick={() => setFilterType("bakhshname")}
  >
            <svg width="17" height="21" viewBox="0 0 17 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M15.9239 5.88163L10.9239 0.881635C10.7793 0.737019 10.5839 0.65625 10.38 0.65625H2.30311C1.45311 0.65625 0.764648 1.34471 0.764648 2.19471V19.1178C0.764648 19.9678 1.45311 20.6562 2.30311 20.6562H14.6108C15.4608 20.6562 16.1493 19.9678 16.1493 19.1178V6.42548C16.1493 6.22163 16.0685 6.02625 15.9239 5.88163ZM10.7646 15.2716H4.6108C4.18619 15.2716 3.84157 14.927 3.84157 14.5024C3.84157 14.0778 4.18619 13.7332 4.6108 13.7332H10.7646C11.1893 13.7332 11.5339 14.0778 11.5339 14.5024C11.5339 14.927 11.1893 15.2716 10.7646 15.2716ZM12.3031 12.1947H4.6108C4.18619 12.1947 3.84157 11.8501 3.84157 11.4255C3.84157 11.0009 4.18619 10.6562 4.6108 10.6562H12.3031C12.7277 10.6562 13.0723 11.0009 13.0723 11.4255C13.0723 11.8501 12.7277 12.1947 12.3031 12.1947ZM10.7646 6.8101C10.34 6.8101 9.99542 6.46548 9.99542 6.04087V2.12087L14.6846 6.8101H10.7646Z" fill="black"/>
            </svg>
            <p>بخشنامه ها</p>
          </div>
           <div
    className={`${style.item} ${filterType === "Morkhasi" ? style.active : ""}`}
    onClick={() => setFilterType("Morkhasi")}
  >
            <svg width="23" height="21" viewBox="0 0 23 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.998557 0.656272C0.936068 0.656854 0.87444 0.670901 0.817872 0.697455C0.761304 0.72401 0.711125 0.762448 0.670756 0.810149C0.630387 0.857851 0.600777 0.913695 0.583942 0.973875C0.567108 1.03406 0.563446 1.09716 0.573206 1.15888V20.2216C0.573206 20.4615 0.767947 20.6562 1.0079 20.6562H8.39762C8.63757 20.6562 8.83231 20.4615 8.83231 20.2216V7.91186L9.43001 8.38985C9.47461 8.42554 9.5258 8.4521 9.58066 8.46801C9.63552 8.48392 9.69298 8.48887 9.74975 8.48257C9.80653 8.47627 9.8615 8.45885 9.91154 8.43129C9.96158 8.40374 10.0057 8.36661 10.0414 8.322C10.0771 8.2774 10.1036 8.2262 10.1195 8.17133C10.1354 8.11647 10.1403 8.059 10.134 8.00223C10.1277 7.94546 10.1103 7.89049 10.0827 7.84046C10.0551 7.79043 10.018 7.74632 9.97337 7.71064L1.27958 0.755606C1.20054 0.690414 1.10101 0.655234 0.998557 0.656272ZM5.35479 1.5299C5.11485 1.5299 4.9201 1.72464 4.9201 1.96459V2.55549L7.52824 4.6415V1.96459C7.52824 1.72464 7.3335 1.5299 7.09355 1.5299H5.35479ZM18.8302 4.57273C18.369 4.57273 17.9268 4.75592 17.6007 5.082C17.2746 5.40808 17.0914 5.85034 17.0914 6.31149C17.0914 6.77263 17.2746 7.21489 17.6007 7.54097C17.9268 7.86705 18.369 8.05024 18.8302 8.05024C19.2913 8.05024 19.7336 7.86705 20.0597 7.54097C20.3857 7.21489 20.5689 6.77263 20.5689 6.31149C20.5689 5.85034 20.3857 5.40808 20.0597 5.082C19.7336 4.75592 19.2913 4.57273 18.8302 4.57273ZM17.4225 8.48748C17.2658 8.48221 17.1108 8.50181 16.9624 8.54267L13.7752 9.44771C13.5605 9.5103 13.3741 9.64421 13.2463 9.82721L11.6162 12.1637C11.3071 12.6071 11.4161 13.2164 11.859 13.5255C12.0294 13.6446 12.2247 13.7012 12.4177 13.7012C12.7267 13.7012 13.0309 13.5552 13.2208 13.2827L14.6531 11.2298L15.362 11.0235L14.8501 12.4005C14.8492 12.4036 14.8505 12.406 14.8492 12.409L14.5954 13.0916C14.4202 13.5624 14.52 14.0868 14.8551 14.4611L16.9624 16.8128C16.975 16.8267 16.9791 16.8443 16.9895 16.8595L17.4667 17.3927L18.2197 19.9516C18.3454 20.378 18.7349 20.6537 19.1579 20.6537C19.3674 20.6537 19.5854 20.5859 19.7819 20.4364C20.0927 20.2003 20.2086 19.7829 20.0986 19.4082L19.2869 16.6481C19.2561 16.5342 19.2038 16.4242 19.1307 16.3246L17.4888 14.0349L18.7894 10.5361C19.082 9.74847 18.6814 8.873 17.8937 8.58002C17.7383 8.52243 17.5792 8.49275 17.4225 8.48748ZM19.6962 10.5141C19.6727 10.6232 19.6436 10.7323 19.6036 10.8401L18.9507 12.5958L20.743 13.9406C20.919 14.0728 21.1245 14.1359 21.3288 14.1359C21.6266 14.1359 21.9203 14.0005 22.1124 13.7445C22.4363 13.3124 22.3484 12.6993 21.9163 12.3751L20.0646 10.9869L19.6962 10.5141ZM2.74666 11.5278H5.35479C5.59474 11.5278 5.78948 11.7225 5.78948 11.9625V16.3094C5.78948 16.5493 5.59474 16.744 5.35479 16.744H2.74666C2.50671 16.744 2.31197 16.5493 2.31197 16.3094V11.9625C2.31197 11.7225 2.50671 11.5278 2.74666 11.5278ZM14.1658 14.9883L13.8805 17.2679L12.1613 18.9863C11.7792 19.3684 11.7792 19.988 12.1613 20.3701C12.3521 20.561 12.6028 20.6562 12.8532 20.6562C13.1036 20.6562 13.3539 20.561 13.5451 20.3701L15.4936 18.4208C15.624 18.2935 15.7197 18.1289 15.7627 17.9411L15.9843 17.0251L14.2074 15.0409C14.1921 15.024 14.1805 15.0057 14.1658 14.9883Z" fill="black"/>
            </svg>
            <p>درخواست های مرخصی</p>
          </div>
            <div
    className={`${style.item} ${filterType === "Remember" ? style.active : ""}`}
    onClick={() => setFilterType("Remember")}
  >
            <svg width="19" height="21" viewBox="0 0 19 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6.12835 0.65625V2.56101H11.8426V0.65625H6.12835ZM15.6131 2.36384L14.3817 3.81659L17.1905 6.19754L18.4219 4.74479L15.6131 2.36384ZM8.98549 3.51339C4.24506 3.51339 0.414062 7.34439 0.414062 12.0848C0.414062 16.8253 4.24506 20.6562 8.98549 20.6562C13.7259 20.6562 17.5569 16.8253 17.5569 12.0848C17.5569 7.34439 13.7259 3.51339 8.98549 3.51339ZM8.98549 5.41815C12.7098 5.41815 15.6522 8.36049 15.6522 12.0848C15.6522 15.8092 12.7098 18.7515 8.98549 18.7515C5.26116 18.7515 2.31882 15.8092 2.31882 12.0848C2.31882 8.36049 5.26116 5.41815 8.98549 5.41815ZM8.03311 7.32292V13.0372H9.93787V7.32292H8.03311Z" fill="black"/>
            </svg>
            <p>یادآوری</p>
          </div>
           <div
    className={`${style.item} ${filterType === "update" ? style.active : ""}`}
    onClick={() => setFilterType("update")}
  >
            <svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M16.135 0.656342C15.9364 0.659445 15.7471 0.741263 15.6088 0.883825C15.4704 1.02639 15.3943 1.21803 15.3972 1.41667V2.96857C13.806 1.54018 11.7038 0.667078 9.4004 0.667078C4.44129 0.667078 0.405273 4.70309 0.405273 9.6622C0.405273 14.1588 3.71727 17.8978 8.03883 18.5548C8.13618 18.5696 8.23548 18.565 8.33106 18.5414C8.42664 18.5177 8.51663 18.4755 8.59589 18.4171C8.67514 18.3587 8.74212 18.2852 8.79299 18.2009C8.84386 18.1166 8.87763 18.0231 8.89237 17.9258C8.90711 17.8284 8.90254 17.7291 8.8789 17.6336C8.85526 17.538 8.81304 17.448 8.75462 17.3687C8.69621 17.2895 8.62276 17.2225 8.53846 17.1716C8.45416 17.1208 8.36067 17.087 8.26332 17.0723C4.66318 16.5249 1.90446 13.4241 1.90446 9.6622C1.90446 5.51325 5.25145 2.16627 9.4004 2.16627C11.3665 2.16627 13.1386 2.9296 14.4728 4.16518H12.6486C12.5493 4.16378 12.4507 4.18213 12.3585 4.21917C12.2663 4.25621 12.1824 4.3112 12.1117 4.38095C12.041 4.45069 11.9848 4.5338 11.9465 4.62544C11.9081 4.71709 11.8884 4.81544 11.8884 4.91478C11.8884 5.01412 11.9081 5.11247 11.9465 5.20411C11.9848 5.29575 12.041 5.37886 12.1117 5.44861C12.1824 5.51835 12.2663 5.57334 12.3585 5.61038C12.4507 5.64742 12.5493 5.66578 12.6486 5.66437H16.1399H16.1467C16.1536 5.66414 16.1604 5.66381 16.1672 5.66339C16.1855 5.66308 16.2037 5.66211 16.2219 5.66047C16.2445 5.65823 16.267 5.65498 16.2892 5.65071C16.3086 5.64691 16.3278 5.64235 16.3468 5.63704C16.3517 5.63579 16.3566 5.63449 16.3615 5.63314C16.3638 5.6325 16.366 5.63185 16.3683 5.63119C16.3768 5.62809 16.3853 5.62483 16.3937 5.62142C16.4088 5.61637 16.4238 5.61084 16.4386 5.60483C16.4595 5.59601 16.48 5.58624 16.5001 5.57555C16.502 5.57458 16.504 5.57361 16.5059 5.57262C16.526 5.56181 16.5455 5.55008 16.5645 5.53749C16.5664 5.53619 16.5684 5.53489 16.5703 5.53358C16.5888 5.52073 16.6068 5.50705 16.624 5.49259C16.626 5.49097 16.6279 5.48935 16.6299 5.48771C16.6472 5.47317 16.6638 5.45787 16.6797 5.44183C16.6813 5.44022 16.6829 5.43859 16.6845 5.43695C16.7003 5.42072 16.7152 5.40379 16.7294 5.3862C16.7311 5.38426 16.7327 5.3823 16.7343 5.38034C16.7383 5.37487 16.7422 5.36934 16.746 5.36375C16.757 5.34949 16.7674 5.33484 16.7773 5.31983C16.7907 5.29867 16.8031 5.27684 16.8144 5.25444C16.8247 5.23438 16.8342 5.21386 16.8427 5.19295C16.8436 5.19067 16.8446 5.1884 16.8456 5.18611C16.8537 5.16498 16.8609 5.14348 16.8671 5.1217C16.8677 5.11942 16.8684 5.11714 16.869 5.11486C16.8752 5.09299 16.8804 5.07084 16.8846 5.04849C16.885 5.04622 16.8853 5.04394 16.8856 5.04166C16.8859 5.03971 16.8863 5.03776 16.8866 5.03581C16.8902 5.01316 16.8928 4.99036 16.8944 4.96748C16.8948 4.96196 16.8951 4.95642 16.8954 4.95089C16.896 4.93886 16.8963 4.92682 16.8963 4.91478V4.90014V1.41667C16.8978 1.31634 16.8791 1.21675 16.8413 1.12378C16.8035 1.03082 16.7475 0.946388 16.6765 0.875483C16.6055 0.804578 16.521 0.748647 16.428 0.711004C16.335 0.673362 16.2354 0.654774 16.135 0.656342ZM12.4095 10.6617C11.3056 10.6617 10.3999 11.5567 10.3999 12.6606V18.6573C10.3999 19.7622 11.2968 20.6577 12.4017 20.6562L18.3955 20.6475C19.4994 20.646 20.393 19.7505 20.3915 18.6466L20.3944 12.6606C20.3929 11.5577 19.4984 10.6617 18.3955 10.6617H12.4095ZM18.3955 13.1515C18.5233 13.1515 18.6512 13.2002 18.7488 13.2979C18.9442 13.4933 18.9442 13.8092 18.7488 14.0046L14.751 18.0024C14.6536 18.0999 14.5256 18.1488 14.3977 18.1488C14.2698 18.1488 14.1418 18.0999 14.0444 18.0024L12.0455 16.0035C11.8501 15.8081 11.8501 15.4922 12.0455 15.2968C12.2408 15.1015 12.5567 15.1015 12.7521 15.2968L14.3977 16.9424L18.0422 13.2979C18.1399 13.2002 18.2677 13.1515 18.3955 13.1515Z" fill="black"/>
            </svg>
            <p>بروزرسانی ها</p>
          </div>
        </div>
        <div className={style.table}>
          {filteredNotifications.map((notif, index) => (
            <div className={style.row} key={index}>
  <div className={style.iconcontainer}>
    <img src={getIcon(notif.type)} alt={notif.type} />
  </div>
  <div className={style.text}>
    <h3>{notif.name}</h3>
    <div className={style.textbottom}>
      <p className={style.reason}>دلیل: {notif.reason}</p>
      <p className={style.history}>{notif.history}</p>
    </div>
  </div>
      <div className={style.actions}>
      {notif.type === "Morkhasi" && (
        <>
          <button className={style.approve}>تایید درخواست</button>
          <button className={style.reject}>رد درخواست</button>
        </>
      )}
      <button className={style.view}>مشاهده کامل</button>
    </div>
</div>
          ))}
        </div>
      </div>
    </div>
  );
}
